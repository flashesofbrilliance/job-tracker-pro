<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Discovery Engine</title>
  <link rel="stylesheet" href="style.css?v=0.1.0
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Sushi Discovery">
  <link rel="apple-touch-icon" href="icons/icon-192x192.png">
  
  <!-- Mobile Optimizations -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="format-detection" content="telephone=no">
  
  <!-- WebGL & Animation Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cannon.js/0.20.0/cannon.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>
  
  <style>
  /* Mise en Place System Styles */
  .mise-en-place-card {
    background: linear-gradient(135deg, rgba(139, 69, 19, 0.1), rgba(160, 82, 45, 0.1));
    border: 1px solid rgba(139, 69, 19, 0.3);
  }
  
  .prep-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  
  .prep-title {
    font-weight: bold;
    font-size: 16px;
    color: #8b4513;
  }
  
  .prep-score {
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 14px;
  }
  
  .prep-score.excellent {
    background: rgba(0, 255, 0, 0.2);
    color: #00ff00;
  }
  
  .prep-score.good {
    background: rgba(255, 165, 0, 0.2);
    color: #ffa500;
  }
  
  .prep-score.needs-work {
    background: rgba(255, 0, 0, 0.2);
    color: #ff6b6b;
  }
  
  .prep-items {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px;
    margin-bottom: 15px;
  }
  
  .prep-item {
    display: flex;
    align-items: center;
    padding: 6px;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 12px;
    transition: all 0.3s ease;
  }
  
  .prep-item.completed {
    background: rgba(0, 255, 0, 0.1);
    border-color: rgba(0, 255, 0, 0.3);
    color: #00ff00;
  }
  
  .prep-icon {
    margin-right: 6px;
  }
  
  .prep-stats {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
    opacity: 0.8;
    margin-bottom: 10px;
  }
  
  .prep-controls {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 4px;
  }
  
  .prep-btn {
    background: rgba(139, 69, 19, 0.3);
    border: 1px solid rgba(139, 69, 19, 0.5);
    color: #d4af37;
    padding: 4px 6px;
    border-radius: 4px;
    font-size: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .prep-btn:hover {
    background: rgba(139, 69, 19, 0.5);
    transform: translateY(-1px);
  }
  
  /* Knife Skills System Styles */
  .knife-skills-card {
    background: linear-gradient(135deg, rgba(47, 79, 79, 0.1), rgba(70, 130, 180, 0.1));
    border: 1px solid rgba(47, 79, 79, 0.3);
  }
  
  .skills-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }
  
  .skills-title {
    font-weight: bold;
    font-size: 16px;
    color: #2f4f4f;
  }
  
  .skill-level {
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    text-transform: uppercase;
  }
  
  .skill-level.novice {
    background: rgba(128, 128, 128, 0.2);
    color: #888;
  }
  
  .skill-level.apprentice {
    background: rgba(0, 191, 255, 0.2);
    color: #00bfff;
  }
  
  .skill-level.chef {
    background: rgba(255, 140, 0, 0.2);
    color: #ff8c00;
  }
  
  .skill-level.master {
    background: rgba(255, 215, 0, 0.2);
    color: #ffd700;
  }
  
  .skills-metrics {
    margin-bottom: 15px;
  }
  
  .skill-metric {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 8px;
    font-size: 12px;
  }
  
  .metric-name {
    width: 70px;
    color: #ccc;
  }
  
  .metric-bar {
    flex: 1;
    height: 8px;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 4px;
    margin: 0 8px;
    overflow: hidden;
  }
  
  .metric-fill {
    height: 100%;
    background: linear-gradient(90deg, #00bfff, #1e90ff);
    transition: width 0.5s ease;
    border-radius: 4px;
  }
  
  .metric-value {
    width: 40px;
    text-align: right;
    color: #00bfff;
    font-weight: bold;
  }
  
  .mastery-badges {
    display: flex;
    gap: 4px;
    justify-content: center;
  }
  
  .mastery-badge {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(255, 215, 0, 0.2);
    border: 1px solid rgba(255, 215, 0, 0.3);
    font-size: 12px;
  }
  
  .mastery-badge.sniper {
    background: rgba(255, 0, 0, 0.2);
    border-color: rgba(255, 0, 0, 0.3);
  }
  
  .mastery-badge.lightning {
    background: rgba(255, 255, 0, 0.2);
    border-color: rgba(255, 255, 0, 0.3);
  }
  
  .mastery-badge.artisan {
    background: rgba(138, 43, 226, 0.2);
    border-color: rgba(138, 43, 226, 0.3);
  }
  
  /* Chef Advice Messages */
  .chef-quick-advice {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    max-width: 300px;
    opacity: 0;
  }
  
  .chef-bubble {
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 10px 15px;
    border-radius: 15px;
    border: 1px solid rgba(255, 215, 0, 0.3);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .chef-emoji {
    font-size: 18px;
  }
  
  /* Skill Level Up Animation */
  .skill-level-up {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 2000;
    opacity: 0;
  }
  
  .level-up-content {
    background: linear-gradient(135deg, rgba(255, 215, 0, 0.95), rgba(255, 140, 0, 0.95));
    color: #000;
    padding: 30px;
    border-radius: 20px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    border: 3px solid #ffd700;
  }
  
  .level-up-header {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 15px;
    text-transform: uppercase;
  }
  
  .level-progression {
    font-size: 20px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
  }
  
  .old-level {
    opacity: 0.6;
  }
  
  .new-level {
    font-weight: bold;
    color: #ff6b00;
  }
  
  .arrow {
    font-size: 24px;
  }
  
  .level-description {
    font-size: 14px;
    opacity: 0.8;
    font-style: italic;
  }
  
  /* Mastery Unlock Animation */
  .mastery-unlock {
    position: fixed;
    top: 30%;
    right: 20px;
    z-index: 1500;
    opacity: 0;
  }
  
  .mastery-content {
    background: linear-gradient(135deg, rgba(75, 0, 130, 0.95), rgba(138, 43, 226, 0.95));
    color: white;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    border: 2px solid #8a2be2;
  }
  
  .mastery-icon {
    font-size: 36px;
    margin-bottom: 10px;
  }
  
  .mastery-title {
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 8px;
    text-transform: uppercase;
  }
  
  .mastery-desc {
    font-size: 12px;
    opacity: 0.9;
  }
  
  /* Professional Job Card Styles */
  .job-card {
    background: rgba(255, 255, 255, 0.98);
    border-radius: 16px;
    padding: 32px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    max-width: 600px;
    margin: 0 auto;
    transition: all 0.3s ease;
  }
  
  .job-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
  }
  
  /* 1st Order - Primary Information */
  .card-primary {
    margin-bottom: 24px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding-bottom: 24px;
  }
  
  .company-section {
    margin-bottom: 20px;
  }
  
  .company-name {
    font-size: 28px;
    font-weight: 700;
    margin: 0 0 8px 0;
    color: #1a1a1a;
    line-height: 1.2;
  }
  
  .company-context {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #666;
    font-size: 14px;
    font-weight: 500;
  }
  
  .separator {
    color: #ccc;
  }
  
  .role-section {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 12px;
  }
  
  .role-title {
    font-size: 20px;
    font-weight: 600;
    margin: 0;
    color: #2c3e50;
    line-height: 1.3;
    flex: 1;
  }
  
  .salary-range {
    font-size: 18px;
    font-weight: 700;
    color: #27ae60;
    background: rgba(39, 174, 96, 0.1);
    padding: 8px 12px;
    border-radius: 8px;
    white-space: nowrap;
  }
  
  .fit-indicator {
    display: flex;
    align-items: center;
    gap: 16px;
  }
  
  .fit-score-container {
    text-align: center;
    min-width: 80px;
  }
  
  .fit-score {
    font-size: 32px;
    font-weight: 800;
    line-height: 1;
    margin-bottom: 4px;
  }
  
  .fit-score.excellent { color: #27ae60; }
  .fit-score.good { color: #f39c12; }
  .fit-score.fair { color: #e67e22; }
  .fit-score.poor { color: #e74c3c; }
  
  .fit-label {
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    color: #7f8c8d;
    letter-spacing: 0.5px;
  }
  
  .fit-bar {
    flex: 1;
    height: 8px;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 4px;
    overflow: hidden;
  }
  
  .fit-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 0.8s ease;
    background: linear-gradient(90deg, #e74c3c 0%, #f39c12 40%, #27ae60 100%);
  }
  
  /* 2nd Order - Secondary Information */
  .card-secondary {
    margin-bottom: 24px;
  }
  
  .skills-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 16px;
  }
  
  .skill-tag {
    background: rgba(52, 152, 219, 0.1);
    color: #3498db;
    padding: 6px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    border: 1px solid rgba(52, 152, 219, 0.2);
    transition: all 0.2s ease;
  }
  
  .skill-tag:hover {
    background: rgba(52, 152, 219, 0.2);
    transform: translateY(-1px);
  }
  
  .quick-stats {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
  }
  
  .stat-item {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: #7f8c8d;
  }
  
  .stat-icon {
    font-size: 16px;
  }
  
  /* Action Bar */
  .action-bar {
    display: flex;
    gap: 12px;
    justify-content: center;
  }
  
  .action-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px 24px;
    border-radius: 12px;
    border: 2px solid transparent;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 100px;
    position: relative;
  }
  
  .reject-btn {
    background: rgba(231, 76, 60, 0.1);
    color: #e74c3c;
    border-color: rgba(231, 76, 60, 0.2);
  }
  
  .reject-btn:hover {
    background: rgba(231, 76, 60, 0.2);
    transform: translateY(-2px);
  }
  
  .next-btn {
    background: rgba(149, 165, 166, 0.1);
    color: #7f8c8d;
    border-color: rgba(149, 165, 166, 0.2);
  }
  
  .next-btn:hover {
    background: rgba(149, 165, 166, 0.2);
    transform: translateY(-2px);
  }
  
  .accept-btn {
    background: rgba(39, 174, 96, 0.1);
    color: #27ae60;
    border-color: rgba(39, 174, 96, 0.2);
  }
  
  .accept-btn:hover {
    background: rgba(39, 174, 96, 0.2);
    transform: translateY(-2px);
  }
  
  .btn-icon {
    font-size: 20px;
    margin-bottom: 4px;
  }
  
  .btn-text {
    font-size: 14px;
    margin-bottom: 2px;
  }
  
  .btn-key {
    font-size: 10px;
    opacity: 0.7;
    font-weight: 500;
  }
  
  @media (max-width: 768px) {
    .prep-controls {
      grid-template-columns: repeat(2, 1fr);
    }
    
    .prep-items {
      grid-template-columns: 1fr;
    }
    
    .chef-quick-advice {
      right: 10px;
      top: 10px;
      max-width: 250px;
    }
    
    .level-up-content {
      padding: 20px;
      margin: 20px;
    }
    
    .mastery-unlock {
      right: 10px;
    }
    
    .job-card {
      padding: 24px;
      margin: 16px;
    }
    
    .company-name {
      font-size: 24px;
    }
    
    .role-section {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .action-bar {
      gap: 8px;
    }
    
    .action-btn {
      min-width: 80px;
      padding: 12px 16px;
    }
  }
  
  /* Yes/No Piles Styles */
  .yes-pile, .no-pile {
    position: absolute;
    width: 200px;
    min-height: 120px;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(10px);
    border: 2px solid;
    transition: all 0.3s ease;
  }
  
  .yes-pile {
    top: 20px;
    right: 20px;
    background: rgba(39, 174, 96, 0.1);
    border-color: rgba(39, 174, 96, 0.3);
  }
  
  .no-pile {
    top: 20px;
    left: 20px;
    background: rgba(231, 76, 60, 0.1);
    border-color: rgba(231, 76, 60, 0.3);
  }
  
  .yes-pile.updated {
    transform: scale(1.05);
    box-shadow: 0 6px 24px rgba(39, 174, 96, 0.3);
  }
  
  .no-pile.updated {
    transform: scale(1.05);
    box-shadow: 0 6px 24px rgba(231, 76, 60, 0.3);
  }
  
  .pile-label {
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 8px;
    text-align: center;
  }
  
  .yes-pile .pile-label {
    color: #27ae60;
  }
  
  .no-pile .pile-label {
    color: #e74c3c;
  }
  
  .pile-count {
    font-size: 24px;
    font-weight: 800;
    text-align: center;
    margin-bottom: 12px;
  }
  
  .yes-pile .pile-count {
    color: #27ae60;
  }
  
  .no-pile .pile-count {
    color: #e74c3c;
  }
  
  .pile-items {
    display: flex;
    flex-direction: column;
    gap: 4px;
    max-height: 200px;
    overflow-y: auto;
  }
  
  .pile-item {
    background: rgba(255, 255, 255, 0.8);
    border-radius: 6px;
    padding: 8px;
    font-size: 10px;
    line-height: 1.2;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
  }
  
  .pile-item:hover {
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
  }
  
  .pile-item-company {
    font-weight: 700;
    color: #2c3e50;
    margin-bottom: 2px;
  }
  
  .pile-item-role {
    font-weight: 500;
    color: #7f8c8d;
    font-size: 9px;
  }
  
  .pile-items::-webkit-scrollbar {
    width: 4px;
  }
  
  .pile-items::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 2px;
  }
  
  .pile-items::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 2px;
  }
  
  @media (max-width: 768px) {
    .yes-pile, .no-pile {
      width: 160px;
      min-height: 100px;
      padding: 12px;
    }
    
    .yes-pile {
      top: 10px;
      right: 10px;
    }
    
    .no-pile {
      top: 10px;
      right: 10px;
    }
  }
  
  /* Japanese Woodblock Sushi Styles */
  .sushi-plate {
    position: relative;
    width: 120px;
    height: 80px;
    border-radius: 12px;
    background: linear-gradient(145deg, #f8f8f8, #e8e8e8);
    box-shadow: 
      inset 2px 2px 4px rgba(255, 255, 255, 0.8),
      inset -2px -2px 4px rgba(0, 0, 0, 0.1),
      0 4px 12px rgba(0, 0, 0, 0.15);
    overflow: hidden;
    transition: all 0.3s ease;
  }
  
  .sushi-piece {
    position: absolute;
    top: 8px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 60px;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }
  
  /* Salmon sushi with fish scale pattern */
  .sushi-piece.salmon {
    background: 
      radial-gradient(ellipse at 30% 20%, rgba(255, 180, 180, 0.8) 0%, transparent 50%),
      radial-gradient(ellipse at 70% 80%, rgba(255, 160, 160, 0.6) 0%, transparent 50%),
      linear-gradient(135deg, #ff9999 0%, #ff7777 50%, #ff5555 100%);
    position: relative;
  }
  
  .sushi-piece.salmon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      repeating-linear-gradient(
        45deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.05) 2px,
        rgba(0, 0, 0, 0.05) 3px
      ),
      repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 3px,
        rgba(255, 255, 255, 0.1) 3px,
        rgba(255, 255, 255, 0.1) 4px
      );
    mix-blend-mode: multiply;
  }
  
  /* Tuna sushi with denser pattern for premium quality */
  .sushi-piece.tuna {
    background: 
      radial-gradient(ellipse at 25% 25%, rgba(200, 80, 80, 0.9) 0%, transparent 60%),
      radial-gradient(ellipse at 75% 75%, rgba(180, 60, 60, 0.7) 0%, transparent 60%),
      linear-gradient(135deg, #cc4444 0%, #aa3333 50%, #882222 100%);
    position: relative;
  }
  
  .sushi-piece.tuna::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      repeating-linear-gradient(
        30deg,
        transparent,
        transparent 1px,
        rgba(0, 0, 0, 0.08) 1px,
        rgba(0, 0, 0, 0.08) 2px
      ),
      repeating-linear-gradient(
        -30deg,
        transparent,
        transparent 1px,
        rgba(255, 255, 255, 0.08) 1px,
        rgba(255, 255, 255, 0.08) 2px
      );
    mix-blend-mode: multiply;
  }
  
  /* Rice base with granular texture */
  .sushi-piece::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 2px;
    right: 2px;
    height: 20px;
    background: 
      radial-gradient(circle at 20% 50%, rgba(255, 255, 255, 0.8) 1px, transparent 2px),
      radial-gradient(circle at 60% 30%, rgba(255, 255, 255, 0.6) 1px, transparent 2px),
      radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.7) 1px, transparent 2px),
      linear-gradient(180deg, #fff8f0 0%, #f5f0e8 100%);
    border-radius: 0 0 6px 6px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  }
  
  /* Roll varieties with nori wrap */
  .sushi-piece.roll {
    background: 
      linear-gradient(135deg, #f8f8f8 0%, #e8e8e8 100%);
    border: 2px solid #2a3828;
    position: relative;
  }
  
  .sushi-piece.roll::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      repeating-linear-gradient(
        0deg,
        rgba(42, 56, 40, 0.1),
        rgba(42, 56, 40, 0.1) 1px,
        transparent 1px,
        transparent 3px
      ),
      repeating-linear-gradient(
        90deg,
        rgba(42, 56, 40, 0.05),
        rgba(42, 56, 40, 0.05) 1px,
        transparent 1px,
        transparent 8px
      );
  }
  
  /* Depth indicators using traditional Japanese line work */
  .sushi-plate.depth-close::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 8px;
    right: 8px;
    height: 1px;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 1px,
      rgba(0, 0, 0, 0.2) 1px,
      rgba(0, 0, 0, 0.2) 2px
    );
  }
  
  .sushi-plate.depth-medium::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 8px;
    right: 8px;
    height: 1px;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.15) 2px,
      rgba(0, 0, 0, 0.15) 3px
    );
  }
  
  .sushi-plate.depth-far::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 8px;
    right: 8px;
    height: 1px;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 4px,
      rgba(0, 0, 0, 0.1) 4px,
      rgba(0, 0, 0, 0.1) 5px
    );
  }
  
  /* Job info labels on plates */
  .sushi-label {
    position: absolute;
    bottom: 8px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.9);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 600;
    color: #2c3e50;
    text-align: center;
    line-height: 1.2;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(4px);
  }
  
  .sushi-label-company {
    font-weight: 700;
    font-size: 9px;
  }
  
  .sushi-label-role {
    font-weight: 500;
    font-size: 8px;
    opacity: 0.8;
  }
  
  /* Hover effects with traditional depth */
  .sushi-plate:hover {
    transform: translateY(-2px);
    box-shadow: 
      inset 2px 2px 4px rgba(255, 255, 255, 0.9),
      inset -2px -2px 4px rgba(0, 0, 0, 0.15),
      0 6px 20px rgba(0, 0, 0, 0.25);
  }
  
  .sushi-plate:hover .sushi-piece {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  /* Animation states */
  .sushi-plate.entering {
    animation: sushiEnter 0.6s ease-out;
  }
  
  .sushi-plate.accepted {
    animation: sushiAccept 0.8s ease-out;
  }
  
  .sushi-plate.rejected {
    animation: sushiReject 0.8s ease-out;
  }
  
  @keyframes sushiEnter {
    0% {
      transform: translateX(-200px) scale(0.8);
      opacity: 0;
    }
    100% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
  }
  
  @keyframes sushiAccept {
    0% { transform: translateX(0) scale(1); }
    50% { transform: translateX(50px) scale(1.1); }
    100% { transform: translateX(200px) scale(0.8); opacity: 0; }
  }
  
  @keyframes sushiReject {
    0% { transform: translateX(0) scale(1); }
    50% { transform: translateX(-50px) scale(0.9); }
    100% { transform: translateX(-200px) scale(0.8); opacity: 0; }
  }
  
  @media (max-width: 768px) {
    .sushi-plate {
      width: 100px;
      height: 68px;
    }
    
    .sushi-piece {
      width: 85px;
      height: 50px;
    }
  }
  
  /* 3D Sushi Canvas Styles */
  .sushi-scene-container {
    width: 100%;
    height: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .sushi-canvas {
    width: 100%;
    height: 400px;
    max-width: 800px;
    border-radius: 12px;
    background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%);
    box-shadow: 
      0 0 30px rgba(0, 255, 255, 0.3),
      inset 0 0 40px rgba(0, 0, 0, 0.6);
  }
  
  @media (max-width: 768px) {
    .sushi-canvas {
      height: 300px;
    }
  }
  </style>
</head>
<body>
  <div class="app-container">
    <header class="app-header">
      <div class="header-content">
        <div class="header-left">
          <h1 class="app-title"><i class="fas fa-compass"></i> Discovery Engine</h1>
        </div>
        <div class="header-actions">
          <button class="btn btn--outline btn--sm" id="refresh-btn"><i class="fas fa-sync"></i> Refresh</button>
          <a class="btn btn--secondary btn--sm" href="index.html"><i class="fas fa-home"></i> Back to App</a>
        </div>
      </div>
    </header>

    <!-- Neo-Contemporary Sushi Conveyor Belt -->
    <main class="sushi-discovery-main">
      
      <!-- Full-Width Conveyor Belt -->
      <section class="conveyor-belt-section">
        <div class="conveyor-belt-container">
          
          <!-- Tatami Mat Base -->
          <div class="tatami-base">
            
            <!-- White Oak Sushi Counter -->
            <div class="sushi-counter">
              
              <!-- 3D Sushi Scene -->
              <div class="conveyor-track">
                <div class="sushi-scene-container">
                  <canvas id="sushi-canvas" class="sushi-canvas"></canvas>
                  <!-- Virtual conveyor for compatibility -->
                  <div class="conveyor-belt" id="conveyor-belt" style="display: none;"></div>
                </div>
                
                <!-- Decision Zone Indicator -->
                <div class="decision-zone">
                  <div class="decision-zone-label">DECISION ZONE</div>
                  <div class="time-indicator" id="time-indicator"></div>
                </div>
                
                <!-- Yes Pile (Accepted) -->
                <div class="yes-pile" id="yes-pile">
                  <div class="pile-label">YES PILE</div>
                  <div class="pile-count" id="yes-count">0</div>
                  <div class="pile-items" id="yes-items"></div>
                </div>
                
                <!-- No Pile (Rejected) -->
                <div class="no-pile" id="no-pile">
                  <div class="pile-label">NO PILE</div>
                  <div class="pile-count" id="no-count">0</div>
                  <div class="pile-items" id="no-items"></div>
                </div>
                
                <!-- Missed Opportunities Pile -->
                <div class="missed-pile" id="missed-pile">
                  <div class="pile-label">MISSED</div>
                  <div class="pile-count" id="pile-count">0</div>
                </div>
              </div>
              
              <!-- Control Interface -->
              <div class="atari-controls">
                <div class="control-hint">
                  <span class="key-hint">←</span> PASS
                  <span class="separator">|</span>
                  <span class="key-hint">→</span> GRAB
                  <span class="separator">|</span>
                  <span class="key-hint">SPACE</span> NEXT
                </div>
              </div>
              
            </div>
            
          </div>
          
        </div>
      </section>
      
      <!-- Centered Job Info Display -->
      <section class="job-info-section">
        <div class="job-display-container">
          
          <!-- Professional Job Card -->
          <div class="job-card" id="job-card">
            
            <!-- 1st Order: Primary Decision Info -->
            <div class="card-primary">
              <div class="company-section">
                <h1 class="company-name" id="card-company">Loading...</h1>
                <div class="company-context">
                  <span class="sector" id="sector-value">--</span>
                  <span class="separator">•</span>
                  <span class="location" id="location-value">--</span>
                </div>
              </div>
              
              <div class="role-section">
                <h2 class="role-title" id="card-role">Preparing...</h2>
                <div class="salary-range" id="salary-value">$--</div>
              </div>
              
              <div class="fit-indicator">
                <div class="fit-score-container">
                  <div class="fit-score" id="fit-score-value">--</div>
                  <div class="fit-label">Match</div>
                </div>
                <div class="fit-bar">
                  <div class="fit-fill" id="fit-bar-fill"></div>
                </div>
              </div>
            </div>
            
            <!-- 2nd Order: Supporting Details -->
            <div class="card-secondary">
              <div class="skills-tags" id="card-tags">
                <!-- Key skills/tags will be populated here -->
              </div>
              
              <div class="decision-helpers">
                <div class="quick-stats">
                  <div class="stat-item">
                    <span class="stat-icon">⚡</span>
                    <span class="stat-text" id="quick-apply">Quick Apply</span>
                  </div>
                  <div class="stat-item">
                    <span class="stat-icon">🎯</span>
                    <span class="stat-text" id="competition-level">Medium Competition</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Action Bar -->
            <div class="action-bar">
              <button class="action-btn reject-btn" id="reject-btn">
                <span class="btn-icon">👎</span>
                <span class="btn-text">Pass</span>
                <span class="btn-key">←</span>
              </button>
              
              <button class="action-btn next-btn" id="next-btn">
                <span class="btn-icon">⏭️</span>
                <span class="btn-text">Next</span>
                <span class="btn-key">Space</span>
              </button>
              
              <button class="action-btn accept-btn" id="accept-btn">
                <span class="btn-icon">👍</span>
                <span class="btn-text">Apply</span>
                <span class="btn-key">→</span>
              </button>
            </div>
            
          </div>
          
        </div>
      </section>
      
      <!-- 3D Sushi Diorama Scene -->
      <section class="sushi-diorama-section">
        <canvas id="sushi-3d-canvas" style="width: 100%; height: 400px; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.3);"></canvas>
      </section>
      
    </main>
    
    <!-- Collapsed Analytics Section -->
    <footer class="analytics-footer collapsed">
      <div class="analytics-toggle" onclick="toggleAnalytics()">
        <i class="fas fa-chart-line"></i>
        <span>Analytics</span>
        <i class="fas fa-chevron-up"></i>
      </div>
      <div class="analytics-content" id="analytics-content">
        <div class="analytics-grid">
          <div class="analytics-card">
            <h4>Learning Signals</h4>
            <div id="signals"></div>
          </div>
          <div class="analytics-card">
            <h4>Belt Analytics</h4>
            <div id="belt-analytics"></div>
          </div>
          <div class="analytics-card mise-en-place-card">
            <h4>Daily Preparation</h4>
            <div id="preparation-status"></div>
            <div class="prep-controls">
              <button onclick="completePreparationItem('profile')" class="prep-btn">📝 Profile</button>
              <button onclick="completePreparationItem('research')" class="prep-btn">🔍 Research</button>
              <button onclick="completePreparationItem('network')" class="prep-btn">🤝 Network</button>
              <button onclick="completePreparationItem('skills')" class="prep-btn">⚡ Skills</button>
              <button onclick="completePreparationItem('intel')" class="prep-btn">📊 Intel</button>
              <button onclick="completePreparationItem('tools')" class="prep-btn">🔧 Tools</button>
            </div>
          </div>
          <div class="analytics-card knife-skills-card">
            <h4>Application Mastery</h4>
            <div id="knife-skills-status"></div>
          </div>
        </div>
      </div>
      <div id="recos" style="display: none;"></div>
    </footer>

    <div class="toast-container" id="toast-container"></div>
  </div>

  <script src="performance-manager.js"></script>
  <script src="metrics-framework.js"></script>
  <script src="discovery-core.js"></script>
  <script src="woodblock-patterns.js?v=final&t=20250920211028
  <script src="sushi-scene-manager.js?v=final&t=20250920211028
  <script src="discovery.js?v=final&t=20250920211028
  
  <script>
    // Initialize performance and metrics frameworks
    const performanceManager = new MobilePerformanceManager();
    const uxMetrics = new UXMetricsFramework();
    
    // Enable metrics dashboard in development
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      document.getElementById('ux-metrics-dashboard').style.display = 'block';
    }
    
    console.log('🍣 Sushi Discovery PWA loaded with performance optimization and UX metrics');
    
    // Analytics toggle function
    function toggleAnalytics() {
      const footer = document.querySelector('.analytics-footer');
      const content = document.getElementById('analytics-content');
      const chevron = document.querySelector('.analytics-toggle .fa-chevron-up');
      
      footer.classList.toggle('collapsed');
      
      if (footer.classList.contains('collapsed')) {
        chevron.className = 'fas fa-chevron-up';
      } else {
        chevron.className = 'fas fa-chevron-down';
      }
    }
    
    // Make function globally available
    window.toggleAnalytics = toggleAnalytics;
  </script>
</body>
</html>

